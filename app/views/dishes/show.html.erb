<h1><%= @dish.name %></h1>
<p>Description: <%= @dish.description%></p>

<h2>Ingredients</h2>

<% @dish.dish_ingredients.each do |dish_ingredient| %>
  <% ingredient = dish_ingredient.ingredient %>
  <div class="ingredient-<%= ingredient.id %>">
    <p>Ingredient name: <%= ingredient.name %></p>
    <p>Calories: <%= ingredient.calories %></p>
    <%= button_to "Delete Ingredient", "/dish_ingredients/#{dish_ingredient.id}", method: :delete, data: { confirm: "Are you sure you want to delete this ingredient?" }, class: "delete-button" %>
  </div>
<% end %>

<p> Total Calories: <%= @dish.total_calories %></p>

<%= form_with url: "/dishes/#{@dish.id}/ingredients", method: :post, local: true, data: { turbo: false } do |form| %>
  <%= form.label :ingredient_id %>
  <%= form.text_field :ingredient_id %>
  <%= form.submit "Add Ingredient" %>
<% end %>